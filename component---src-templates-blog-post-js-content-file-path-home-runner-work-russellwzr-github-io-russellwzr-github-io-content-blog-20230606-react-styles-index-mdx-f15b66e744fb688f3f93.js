"use strict";(self.webpackChunkrussellwzr_blog=self.webpackChunkrussellwzr_blog||[]).push([[619],{39626:function(n,s,a){a.d(s,{ah:function(){return l}});var t=a(4942),p=a(67294);function e(n,s){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);s&&(t=t.filter((function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),a.push.apply(a,t)}return a}function o(n){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?e(Object(a),!0).forEach((function(s){(0,t.Z)(n,s,a[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):e(Object(a)).forEach((function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(a,s))}))}return n}var c=p.createContext({});function l(n){var s=p.useContext(c);return p.useMemo((function(){return"function"==typeof n?n(s):o(o({},s),n)}),[s,n])}},55007:function(n,s,a){a.r(s),a.d(s,{Head:function(){return u},default:function(){return k}});var t=a(39626),p=a(67294);function e(n){var s=Object.assign({p:"p",h2:"h2",h3:"h3",div:"div",h4:"h4",ul:"ul",li:"li",strong:"strong",a:"a"},(0,t.ah)(),n.components);return p.createElement(p.Fragment,null,p.createElement(s.p,null,"对 SCSS, CSS Modules, Styled-components, TailwindCSS 等样式解决方案的个人感受~"),"\n",p.createElement(s.p,null,"对于各个方案，本文首先会通过一个简单的 button 示例来介绍其使用风格，然后进行优缺点分析~"),"\n",p.createElement(s.h2,null,"SCSS"),"\n",p.createElement(s.h3,null,"示例"),"\n",p.createElement(s.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="scss"><pre class="language-scss"><code class="language-scss"><span class="token property"><span class="token variable">$text-white</span></span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>255 255 255<span class="token punctuation">)</span> <span class="token statement keyword">!default</span><span class="token punctuation">;</span>\n<span class="token property"><span class="token variable">$bg-blue</span></span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>56 189 248<span class="token punctuation">)</span> <span class="token statement keyword">!default</span><span class="token punctuation">;</span>\n<span class="token property"><span class="token variable">$bg-blue-hover</span></span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>125 211 252<span class="token punctuation">)</span> <span class="token statement keyword">!default</span><span class="token punctuation">;</span>\n<span class="token property"><span class="token variable">$bg-red</span></span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>248 113 113<span class="token punctuation">)</span> <span class="token statement keyword">!default</span><span class="token punctuation">;</span>\n<span class="token property"><span class="token variable">$bg-red-hover</span></span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>252 165 165<span class="token punctuation">)</span> <span class="token statement keyword">!default</span><span class="token punctuation">;</span>\n\n<span class="token selector">.btn </span><span class="token punctuation">{</span>\n  <span class="token property">border-width</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span>\n  <span class="token property">border-radius</span><span class="token punctuation">:</span> 9999px<span class="token punctuation">;</span>\n  <span class="token property">padding-left</span><span class="token punctuation">:</span> 1.5rem<span class="token punctuation">;</span>\n  <span class="token property">padding-right</span><span class="token punctuation">:</span> 1.5rem<span class="token punctuation">;</span>\n  <span class="token property">padding-top</span><span class="token punctuation">:</span> 0.5rem<span class="token punctuation">;</span>\n  <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 0.5rem<span class="token punctuation">;</span>\n  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token variable">$text-white</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">.btn-color-blue </span><span class="token punctuation">{</span>\n  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token variable">$bg-blue</span><span class="token punctuation">;</span>\n  <span class="token selector"><span class="token parent important">&amp;</span>:hover </span><span class="token punctuation">{</span>\n    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token variable">$bg-blue-hover</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">.btn-color-red </span><span class="token punctuation">{</span>\n  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token variable">$bg-red</span><span class="token punctuation">;</span>\n  <span class="token selector"><span class="token parent important">&amp;</span>:hover </span><span class="token punctuation">{</span>\n    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token variable">$bg-red-hover</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),"\n",p.createElement(s.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">\'react\'</span>\n<span class="token keyword">import</span> <span class="token string">\'./index.scss\'</span>\n\n<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token operator">&lt;</span>div<span class="token operator">></span>\n      <span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token string">"btn btn-color-blue"</span><span class="token operator">></span>Blue Button<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>\n      <span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token string">"btn btn-color-red"</span><span class="token operator">></span>Red Button<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>\n    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n  <span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> App</code></pre></div>'}}),"\n",p.createElement(s.h3,null,"分析"),"\n",p.createElement(s.p,null,"SCSS 是一个比较传统和成熟的样式解决方案，它将样式与组件的关注点分离，使用原生的样式写法，支持 CSS 所有语法，功能强大。但是其全局样式是一大痛点，在大型项目中，如果团队内部没有良好的命名规范（这无疑也在一定程度上加重了开发人员的心智负担），容易出现样式冲突。此外，其关注点分离的写法也使得样式文件中的内容与组件之间没有清晰的对应关系，难以分辨哪些是无用样式，这导致随着项目的不断迭代以及无用代码的不断堆积，项目的样式代码难以维护，加载到浏览器的样式也越来越多，会对性能产生一定的影响。"),"\n",p.createElement(s.h2,null,"CSS Modules"),"\n",p.createElement(s.h3,null,"示例"),"\n",p.createElement(s.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="css"><pre class="language-css"><code class="language-css">// colors.modules.css\n<span class="token atrule"><span class="token rule">@value</span> <span class="token property">textWhite</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>255 255 255<span class="token punctuation">)</span><span class="token punctuation">;</span></span>\n<span class="token atrule"><span class="token rule">@value</span> <span class="token property">bgBlue</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>56 189 248<span class="token punctuation">)</span><span class="token punctuation">;</span></span>\n<span class="token atrule"><span class="token rule">@value</span> <span class="token property">bgBlueHover</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>125 211 252<span class="token punctuation">)</span><span class="token punctuation">;</span></span>\n<span class="token atrule"><span class="token rule">@value</span> <span class="token property">bgRed</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>248 113 113<span class="token punctuation">)</span><span class="token punctuation">;</span></span>\n<span class="token atrule"><span class="token rule">@value</span> <span class="token property">bgRedHover</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>252 165 165<span class="token punctuation">)</span><span class="token punctuation">;</span></span>\n\n// Button.modules.css\n<span class="token atrule"><span class="token rule">@value</span> <span class="token property">colors</span><span class="token punctuation">:</span> <span class="token string">"./colors.modules.css"</span><span class="token punctuation">;</span></span>\n<span class="token atrule"><span class="token rule">@value</span> textWhite<span class="token punctuation">,</span> bgBlue<span class="token punctuation">,</span> bgBlueHover<span class="token punctuation">,</span> bgRed<span class="token punctuation">,</span> bgRedHover from colors<span class="token punctuation">;</span></span>\n\n<span class="token selector">.btn</span> <span class="token punctuation">{</span>\n  <span class="token property">border-width</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span>\n  <span class="token property">border-radius</span><span class="token punctuation">:</span> 9999px<span class="token punctuation">;</span>\n  <span class="token property">padding-left</span><span class="token punctuation">:</span> 1.5rem<span class="token punctuation">;</span>\n  <span class="token property">padding-right</span><span class="token punctuation">:</span> 1.5rem<span class="token punctuation">;</span>\n  <span class="token property">padding-top</span><span class="token punctuation">:</span> 0.5rem<span class="token punctuation">;</span>\n  <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 0.5rem<span class="token punctuation">;</span>\n  <span class="token property">color</span><span class="token punctuation">:</span> textWhite<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">.btnColorBlue</span> <span class="token punctuation">{</span>\n  <span class="token property">background-color</span><span class="token punctuation">:</span> bgBlue<span class="token punctuation">;</span>\n  <span class="token selector">&amp;:hover</span> <span class="token punctuation">{</span>\n    <span class="token property">background-color</span><span class="token punctuation">:</span> bgBlueHover<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">.btnColorRed</span> <span class="token punctuation">{</span>\n  <span class="token property">background-color</span><span class="token punctuation">:</span> bgRed<span class="token punctuation">;</span>\n  <span class="token selector">&amp;:hover</span> <span class="token punctuation">{</span>\n    <span class="token property">background-color</span><span class="token punctuation">:</span> bgRedHover<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),"\n",p.createElement(s.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">\'react\'</span>\n<span class="token keyword">import</span> style <span class="token keyword">from</span> <span class="token string">\'./Button.modules.css\'</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token operator">&lt;</span>div<span class="token operator">></span>\n      <span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>style<span class="token punctuation">.</span>btn<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>style<span class="token punctuation">.</span>btnColorBlue<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span><span class="token operator">></span>Blue Button<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>\n      <span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>style<span class="token punctuation">.</span>btn<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>style<span class="token punctuation">.</span>btnColorRed<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span><span class="token operator">></span>Red Button<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>\n    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n  <span class="token punctuation">)</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),"\n",p.createElement(s.h3,null,"分析"),"\n",p.createElement(s.p,null,"CSS Modules 通过哈希编码来避免全局的样式冲突，上述代码编译后的结果如下："),"\n",p.createElement(s.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="scss"><pre class="language-scss"><code class="language-scss"><span class="token selector">.aR6sN0Sm-Q7pRuWpSorbZ </span><span class="token punctuation">{</span>\n  <span class="token property">border-width</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n  <span class="token property">border-radius</span><span class="token punctuation">:</span> 9999px<span class="token punctuation">;</span>\n  <span class="token property">padding</span><span class="token punctuation">:</span> 0.5rem 1.5rem<span class="token punctuation">;</span>\n  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>255 255 255<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">._2T4ooxe7Tr3I5JkEMLod7P </span><span class="token punctuation">{</span>\n  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>56 189 248<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">._3CJsZOtoCJ9XpYfJp_6pot </span><span class="token punctuation">{</span>\n  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>248 113 113<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),"\n",p.createElement(s.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-reactroot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>aR6sN0Sm-Q7pRuWpSorbZ _2T4ooxe7Tr3I5JkEMLod7P<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Blue Button<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>aR6sN0Sm-Q7pRuWpSorbZ _3CJsZOtoCJ9XpYfJp_6pot<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Red Button<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre></div>'}}),"\n",p.createElement(s.p,null,"CSS Modules 通过引入哈希编码的局部作用域，来确保每个组件的样式都是独立的，从而避免了因类名重复而引发的样式冲突问题。CSS Modules 中的组合用法，也允许不同组件之间的样式共享，提高了样式的可重用性。但是 CSS Modules 会带来一定的学习和使用成本，其需要额外的配置和工具支持，且样式覆盖比较麻烦，语法还只允许驼峰命名（与原生 CSS 写法相比有些别扭）。此外，CSS Modules 无法动态获取组件的状态，从开发体验层面来讲，缺乏一定的灵活性。"),"\n",p.createElement(s.h2,null,"Styled-components"),"\n",p.createElement(s.h3,null,"示例"),"\n",p.createElement(s.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">\'react\'</span>\n<span class="token keyword">import</span> styled <span class="token keyword">from</span> <span class="token string">\'styled-components\'</span>\n\n<span class="token keyword">const</span> StyledButton <span class="token operator">=</span> styled<span class="token punctuation">.</span>button<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">\n  border-width: 0px;\n  border-radius: 9999px;\n  padding-left: 1.5rem;\n  padding-right: 1.5rem;\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n  color: rgb(255 255 255);\n  background-color: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>props<span class="token punctuation">.</span>color <span class="token operator">===</span> <span class="token string">\'blue\'</span> <span class="token operator">?</span> <span class="token string">\'rgb(56 189 248)\'</span> <span class="token operator">:</span> <span class="token string">\'rgb(248 113 113)\'</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;\n  &amp;:hover {\n    background-color: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>props<span class="token punctuation">.</span>color <span class="token operator">===</span> <span class="token string">\'blue\'</span> <span class="token operator">?</span> <span class="token string">\'rgb(125 211 252)\'</span> <span class="token operator">:</span> <span class="token string">\'rgb(252 165 165)\'</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;\n  }\n</span><span class="token template-punctuation string">`</span></span>\n\n<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token operator">&lt;</span>div<span class="token operator">></span>\n      <span class="token operator">&lt;</span>StyledButton color<span class="token operator">=</span><span class="token string">"blue"</span><span class="token operator">></span>Blue Button<span class="token operator">&lt;</span><span class="token operator">/</span>StyledButton<span class="token operator">></span>\n      <span class="token operator">&lt;</span>StyledButton color<span class="token operator">=</span><span class="token string">"red"</span><span class="token operator">></span>Red Button<span class="token operator">&lt;</span><span class="token operator">/</span>StyledButton<span class="token operator">></span>\n    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n  <span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> App</code></pre></div>'}}),"\n",p.createElement(s.p,null,"Styled-components 最终插入的样式为："),"\n",p.createElement(s.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">data-styled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>active<span class="token punctuation">"</span></span> <span class="token attr-name">data-styled-version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>6.0.0-rc.3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">\n  <span class="token selector">.jipIVa</span> <span class="token punctuation">{</span>\n    <span class="token property">border-width</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span>\n    <span class="token property">border-radius</span><span class="token punctuation">:</span> 9999px<span class="token punctuation">;</span>\n    <span class="token property">padding-left</span><span class="token punctuation">:</span> 1.5rem<span class="token punctuation">;</span>\n    <span class="token property">padding-right</span><span class="token punctuation">:</span> 1.5rem<span class="token punctuation">;</span>\n    <span class="token property">padding-top</span><span class="token punctuation">:</span> 0.5rem<span class="token punctuation">;</span>\n    <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 0.5rem<span class="token punctuation">;</span>\n    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>255 255 255<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>56 189 248<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token selector">.jipIVa:hover</span> <span class="token punctuation">{</span>\n    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>125 211 252<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token selector">.iakVcJ</span> <span class="token punctuation">{</span>\n    <span class="token property">border-width</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span>\n    <span class="token property">border-radius</span><span class="token punctuation">:</span> 9999px<span class="token punctuation">;</span>\n    <span class="token property">padding-left</span><span class="token punctuation">:</span> 1.5rem<span class="token punctuation">;</span>\n    <span class="token property">padding-right</span><span class="token punctuation">:</span> 1.5rem<span class="token punctuation">;</span>\n    <span class="token property">padding-top</span><span class="token punctuation">:</span> 0.5rem<span class="token punctuation">;</span>\n    <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 0.5rem<span class="token punctuation">;</span>\n    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>255 255 255<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>248 113 113<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token selector">.iakVcJ:hover</span> <span class="token punctuation">{</span>\n    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>252 165 165<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span></code></pre></div>'}}),"\n",p.createElement(s.h3,null,"分析"),"\n",p.createElement(s.h4,null,"优点"),"\n",p.createElement(s.ul,null,"\n",p.createElement(s.li,null,"通过哈希编码来保证类名的唯一性，限制了样式的作用域，从而避免了样式冲突。"),"\n",p.createElement(s.li,null,"CSS-in-JS 的写法非常灵活，在 styled-components 内部写样式和原生 CSS 的用法几乎一样，且可以动态获取组件所传入的参数，来进行条件样式的控制，功能更加强大，写法也更加简洁，减少了过去大量的冗余代码。"),"\n",p.createElement(s.li,null,"样式与组件之间具有明确的对应关系，有助于样式代码的维护并且可以很好地支持 Critical CSS。"),"\n"),"\n",p.createElement(s.h4,null,"缺点"),"\n",p.createElement(s.ul,null,"\n",p.createElement(s.li,null,"\n",p.createElement(s.p,null,"不同版本的适配问题、包体积增大（发送给客户端的文件里会额外包含 styled-components 的 run time 代码）、组件包裹式的样式添加方式也会使得 ReactDevTools 结构更加复杂…"),"\n"),"\n",p.createElement(s.li,null,"\n",p.createElement(s.p,null,"性能开销问题"),"\n",p.createElement(s.ul,null,"\n",p.createElement(s.li,null,p.createElement(s.strong,null,"Frequently inserting CSS rules forces the browser to do a lot of extra work.")),"\n",p.createElement(s.li,null,"“In concurrent rendering, React can yield to the browser between renders. If you insert a new rule in a component, then React yields, the browser then have to see if those rules would apply to the existing tree. So it recalculates the style rules. Then React renders the next component, and then that component discovers a new rule and it happens again.\n",p.createElement(s.strong,null,"Update 2022-10-25:")," This quote from Sebastian is specifically referring to performance in React Concurrent Mode, ",p.createElement(s.strong,null,"without")," ",p.createElement(s.div,{dangerouslySetInnerHTML:{__html:'<code class="language-text">useInsertionEffect</code>'}}),". I recommend reading the full discussion if you want an in-depth understanding of this. Thanks to Dan Abramov for ",p.createElement(s.a,{href:"https://twitter.com/dan_abramov/status/1584838817982590976"},"pointing out")," this inaccuracy on Twitter.” (from ",p.createElement(s.a,{href:"https://dev.to/srmagura"},"Sam Magura"),")"),"\n"),"\n"),"\n",p.createElement(s.li,null,"\n",p.createElement(s.p,null,"样式不稳定问题"),"\n",p.createElement(s.ul,null,"\n",p.createElement(s.li,null,"\n",p.createElement(s.p,null,"“样式插入优先级无法自定义，这就导致产生样式覆盖时，业务对样式覆盖的优先级无法产生稳定的预期。class 优先级由 header 定义顺序决定，而非 className 的字符顺序决定，而 header 定义顺序又由资源加载与 css-in-js 插入执行时机决定，导致业务几乎不可能有稳定的样式覆盖顺序。这里产生的问题就是业务代码不断增多的 ",p.createElement(s.div,{dangerouslySetInnerHTML:{__html:'<code class="language-text">!important</code>'}})," 定义。”（《前端精读周刊》—263）"),"\n"),"\n",p.createElement(s.li,null,"\n",p.createElement(s.p,null,"社区里也有一些相关的实际场景："),"\n",p.createElement(s.ul,null,"\n",p.createElement(s.li,null,"\n",p.createElement(s.p,null,p.createElement(s.a,{href:"https://soonwang.cn/2022/02/13/react-styled-components-and-loadable/"},"styled-components 使用 loadable 懒加载时样式优先级问题")),"\n"),"\n",p.createElement(s.li,null,"\n",p.createElement(s.p,null,p.createElement(s.a,{href:"https://juejin.cn/post/7092423334037553182"},"记一次 组件库样式按需引入 与 styled components 导致的 Bug 排查分析")),"\n"),"\n"),"\n"),"\n",p.createElement(s.li,null,"\n",p.createElement(s.p,null,"我自己也在本地模拟了一个简单的例子，在这个例子中，若 style.css 的插入顺序在 Styled-components 之后，则由于样式优先级问题，最终会产生样式冲突，导致 ComponentA 和 ComponentC 组件的样式覆盖失效。（但个人感觉只要选择器写得足够细，就能在一定程度上避免这种问题，但业务代码也会随之变长，导致可读性降低，难以进行后续维护…）"),"\n"),"\n",p.createElement(s.li,null,"\n",p.createElement(s.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">// ComponentB.js</span>\n<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> styled <span class="token keyword">from</span> <span class="token string">\'styled-components\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> StyledDiv <span class="token operator">=</span> styled<span class="token punctuation">.</span>div<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">\n.test-div {\n    color: yellow;\n  }\n</span><span class="token template-punctuation string">`</span></span>\n\n<span class="token keyword">const</span> <span class="token function-variable function">ComponentB</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> <span class="token punctuation">{</span>children<span class="token punctuation">,</span> <span class="token operator">...</span>restProps<span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n  <span class="token operator">&lt;</span>StyledDiv <span class="token punctuation">{</span><span class="token operator">...</span>restProps<span class="token punctuation">}</span><span class="token operator">></span>\n    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">\'test-div test-div1\'</span><span class="token operator">></span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n  <span class="token operator">&lt;</span><span class="token operator">/</span>StyledDiv<span class="token operator">></span>\n  <span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> ComponentB<span class="token punctuation">;</span>\n\n<span class="token comment">// ComponentA.js</span>\n<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> styled <span class="token keyword">from</span> <span class="token string">\'styled-components\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> ComponentB <span class="token keyword">from</span> <span class="token string">\'./ComponentB\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> StyledDiv <span class="token operator">=</span> <span class="token function">styled</span><span class="token punctuation">(</span>ComponentB<span class="token punctuation">)</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">\n.test-div {\n    color:blue;\n  }\n</span><span class="token template-punctuation string">`</span></span>\n\n<span class="token keyword">const</span> <span class="token function-variable function">ComponentA</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> <span class="token punctuation">{</span>children<span class="token punctuation">,</span> <span class="token operator">...</span>restProps<span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n  <span class="token operator">&lt;</span>StyledDiv <span class="token punctuation">{</span><span class="token operator">...</span>restProps<span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>StyledDiv<span class="token operator">></span>\n  <span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> ComponentA<span class="token punctuation">;</span>\n\n<span class="token comment">// ComponentC.js</span>\n<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> styled <span class="token keyword">from</span> <span class="token string">\'styled-components\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> ComponentB <span class="token keyword">from</span> <span class="token string">\'./ComponentB\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> StyledDiv <span class="token operator">=</span> <span class="token function">styled</span><span class="token punctuation">(</span>ComponentB<span class="token punctuation">)</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">\n.test-div {\n    color: green;\n  }\n</span><span class="token template-punctuation string">`</span></span>\n\n<span class="token keyword">const</span> <span class="token function-variable function">ComponentC</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> <span class="token punctuation">{</span>children<span class="token punctuation">,</span> <span class="token operator">...</span>restProps<span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n  <span class="token operator">&lt;</span>StyledDiv <span class="token punctuation">{</span><span class="token operator">...</span>restProps<span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>StyledDiv<span class="token operator">></span>\n  <span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> ComponentC<span class="token punctuation">;</span>\n\n<span class="token comment">// style.css</span>\n<span class="token punctuation">.</span>test<span class="token operator">-</span>div<span class="token punctuation">.</span>test<span class="token operator">-</span>div1<span class="token punctuation">{</span>\n  <span class="token literal-property property">color</span><span class="token operator">:</span> purple<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// 最终Styled-components所插入的样式</span>\n<span class="token operator">&lt;</span>style data<span class="token operator">-</span>styled<span class="token operator">=</span><span class="token string">"active"</span> data<span class="token operator">-</span>styled<span class="token operator">-</span>version<span class="token operator">=</span><span class="token string">"6.0.0-rc.3"</span><span class="token operator">></span>\n<span class="token punctuation">.</span>dvtBrr <span class="token punctuation">.</span>test<span class="token operator">-</span>div<span class="token punctuation">{</span><span class="token literal-property property">color</span><span class="token operator">:</span>yellow<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">.</span>dxEcBv <span class="token punctuation">.</span>test<span class="token operator">-</span>div<span class="token punctuation">{</span><span class="token literal-property property">color</span><span class="token operator">:</span>blue<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">.</span>gnBMTv <span class="token punctuation">.</span>test<span class="token operator">-</span>div<span class="token punctuation">{</span><span class="token literal-property property">color</span><span class="token operator">:</span>green<span class="token punctuation">;</span><span class="token punctuation">}</span>\n<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span></code></pre></div>'}}),"\n"),"\n"),"\n"),"\n"),"\n",p.createElement(s.h3,null,"底层原理"),"\n",p.createElement(s.ul,null,"\n",p.createElement(s.li,null,"参见上一篇文章",p.createElement(s.a,{href:"https://russellwzr.github.io/blog/20230606_SCProcess/"},"Styled-components 底层原理解析")),"\n"),"\n",p.createElement(s.h2,null,"TailwindCSS"),"\n",p.createElement(s.h3,null,"示例"),"\n",p.createElement(s.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">// StyledButton.js</span>\n<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">\'react\'</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">StyledButton</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> <span class="token punctuation">{</span> color<span class="token punctuation">,</span> <span class="token operator">...</span>restProps <span class="token punctuation">}</span> <span class="token operator">=</span> props\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token operator">&lt;</span>button\n      className<span class="token operator">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">rounded-full px-6 py-2 text-white </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>\n        color <span class="token operator">===</span> <span class="token string">\'blue\'</span> <span class="token operator">?</span> <span class="token string">\'bg-sky-400 hover:bg-sky-300\'</span> <span class="token operator">:</span> <span class="token string">\'bg-red-400 hover:bg-red-300\'</span>\n      <span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span>\n      <span class="token punctuation">{</span><span class="token operator">...</span>restProps<span class="token punctuation">}</span>\n    <span class="token operator">/</span><span class="token operator">></span>\n  <span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// App.js</span>\n<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">\'react\'</span>\n<span class="token keyword">import</span> StyledButton <span class="token keyword">from</span> <span class="token string">\'./StyledButton\'</span>\n\n<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token operator">&lt;</span>div<span class="token operator">></span>\n      <span class="token operator">&lt;</span>StyledButton color<span class="token operator">=</span><span class="token string">"blue"</span><span class="token operator">></span>Blue Button<span class="token operator">&lt;</span><span class="token operator">/</span>StyledButton<span class="token operator">></span>\n      <span class="token operator">&lt;</span>StyledButton color<span class="token operator">=</span><span class="token string">"red"</span><span class="token operator">></span>Red Button<span class="token operator">&lt;</span><span class="token operator">/</span>StyledButton<span class="token operator">></span>\n    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n  <span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> App</code></pre></div>'}}),"\n",p.createElement(s.h3,null,"分析"),"\n",p.createElement(s.p,null,"智能提示 + 原子化的设计（通过组合多个原子样式来实现高阶样式，打包时只需打包原子样式，可以减轻样式文件的体积。ps: 初次接触 TailwindCSS 时，它让我联想到了 RISC 指令集 😂）+ 出色的官方文档，但实际写起来太爽了！缺点就是长长的样式名称堆积在 className 中，让项目代码显得过于杂乱…当然，也可以尝试采用 TailwindCSS + CSS Modules 或者 TailwindCSS + Styled-components 的混合方案，最近写个人网站时尝试了 ",p.createElement(s.a,{href:"https://github.com/ben-rogerson/twin.macro"},"twin.macro")," (The magic of Tailwind with the flexibility of css-in-js)，感觉开发效率有了质的提升~"),"\n",p.createElement(s.h2,null,"Reference"),"\n",p.createElement(s.ul,null,"\n",p.createElement(s.li,null,p.createElement(s.a,{href:"https://zhuanlan.zhihu.com/p/103522819"},"知乎：CSS in JS 的好与坏")),"\n",p.createElement(s.li,null,p.createElement(s.a,{href:"https://juejin.cn/post/7041745627323056142"},"掘金：React 中五种常见的样式策略")),"\n",p.createElement(s.li,null,p.createElement(s.a,{href:"https://github.com/ascoders/weekly/blob/master/%E5%89%8D%E6%B2%BF%E6%8A%80%E6%9C%AF/7.%E7%B2%BE%E8%AF%BB%E3%80%8A%E8%AF%B7%E5%81%9C%E6%AD%A2%20css-in-js%20%E7%9A%84%E8%A1%8C%E4%B8%BA%E3%80%8B.md"},"《前端精读周刊》：请停止 css-in-js 的行为")),"\n",p.createElement(s.li,null,p.createElement(s.a,{href:"https://github.com/ascoders/weekly/blob/master/%E5%89%8D%E6%B2%BF%E6%8A%80%E6%9C%AF/263.%E7%B2%BE%E8%AF%BB%E3%80%8A%E6%88%91%E4%BB%AC%E4%B8%BA%E4%BD%95%E5%BC%83%E7%94%A8%20css-in-js%E3%80%8B.md"},"《前端精读周刊》：我们为何弃用 css-in-js")),"\n",p.createElement(s.li,null,p.createElement(s.a,{href:"https://dev.to/srmagura/why-were-breaking-up-wiht-css-in-js-4g9b"},"Why We’re Breaking Up with CSS-in-JS")),"\n"))}var o=function(n){void 0===n&&(n={});var s=Object.assign({},(0,t.ah)(),n.components).wrapper;return s?p.createElement(s,n,p.createElement(e,n)):e(n)},c=a(85638),l=a(31821),r=function(n){var s=n.data.mdx,a=n.children;return p.createElement(c.Ar,null,p.createElement("article",{className:"mt-12 prose max-w-none dark:prose-invert",itemScope:!0,itemType:"http://schema.org/Article"},p.createElement("header",null,p.createElement("h1",{itemProp:"headline"},s.frontmatter.title),p.createElement("p",null,s.frontmatter.date)),a))},u=function(n){var s=n.data.mdx;return p.createElement(l.pQ,{title:s.frontmatter.title,description:s.frontmatter.description||s.excerpt})};function k(n){return p.createElement(r,n,p.createElement(o,n))}},4942:function(n,s,a){function t(n,s,a){return s in n?Object.defineProperty(n,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[s]=a,n}a.d(s,{Z:function(){return t}})}}]);
//# sourceMappingURL=component---src-templates-blog-post-js-content-file-path-home-runner-work-russellwzr-github-io-russellwzr-github-io-content-blog-20230606-react-styles-index-mdx-f15b66e744fb688f3f93.js.map